# Cellar Environment Variables
#
# All configuration can be set via environment variables using the pattern:
#   CELLAR_<SECTION>__<FIELD>=value
#
# Double underscore (__) separates nested fields.
# Copy this file to .env and modify as needed.

# ============================================================================
# Server Configuration
# ============================================================================
# CELLAR_SERVER__BIND=127.0.0.1:8080
# CELLAR_SERVER__MAX_PARALLEL_CHUNKS=8
# CELLAR_SERVER__ENABLE_TRACING=true
# CELLAR_SERVER__METRICS_ENABLED=true

# ============================================================================
# Storage Configuration
# ============================================================================
# Filesystem storage (default)
# CELLAR_STORAGE__TYPE=filesystem
# CELLAR_STORAGE__PATH=./data/storage

# S3 storage
# CELLAR_STORAGE__TYPE=s3
# CELLAR_STORAGE__BUCKET=cellar
# CELLAR_STORAGE__ENDPOINT=https://s3.amazonaws.com
# CELLAR_STORAGE__REGION=us-east-1
# CELLAR_STORAGE__PREFIX=cache
# CELLAR_STORAGE__FORCE_PATH_STYLE=false
# CELLAR_STORAGE__ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
# CELLAR_STORAGE__SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY

# ============================================================================
# Metadata Configuration (PostgreSQL)
# ============================================================================
# Option 1: Connection URL (legacy)
# CELLAR_METADATA__TYPE=postgres
# CELLAR_METADATA__URL=postgres://user:password@localhost/cellar

# Option 2: Individual fields (recommended for production)
# Allows password to be set separately for better secret management
# CELLAR_METADATA__TYPE=postgres
# CELLAR_METADATA__HOST=localhost
# CELLAR_METADATA__PORT=5432
# CELLAR_METADATA__DATABASE=cellar
# CELLAR_METADATA__USERNAME=cellar
# CELLAR_METADATA__PASSWORD=changeme
# SSL mode: disable, prefer (default), require
# CELLAR_METADATA__SSL_MODE=prefer
# CELLAR_METADATA__MAX_CONNECTIONS=10
# CELLAR_METADATA__STATEMENT_TIMEOUT_MS=300000

# SQLite (for development/testing)
# CELLAR_METADATA__TYPE=sqlite
# CELLAR_METADATA__PATH=./data/metadata.db

# ============================================================================
# Signing Configuration
# ============================================================================
# CELLAR_SIGNING__KEY_NAME=cache.example.com-1
# CELLAR_SIGNING__PRIVATE_KEY__TYPE=env
# CELLAR_SIGNING__PRIVATE_KEY__VAR=CELLAR_SIGNING_KEY
# CELLAR_SIGNING_KEY=<base64-encoded-private-key>

# ============================================================================
# Admin Token Configuration (REQUIRED)
# ============================================================================
# Generate hash with: echo -n "your-secret-token" | sha256sum
CELLAR_ADMIN__TOKEN_HASH=sha256:YOUR_TOKEN_HASH_HERE
# CELLAR_ADMIN__TOKEN_SCOPES=["cache:admin"]
# CELLAR_ADMIN__TOKEN_DESCRIPTION="Admin token"

# ============================================================================
# Garbage Collection Configuration
# ============================================================================
# CELLAR_GC__GRACE_PERIOD_SECS=3600
# CELLAR_GC__BATCH_SIZE=1000
# CELLAR_GC__AUTO_SCHEDULE_ENABLED=false

# ============================================================================
# Rate Limiting Configuration
# ============================================================================
# CELLAR_RATE_LIMIT__ENABLED=false
# CELLAR_RATE_LIMIT__IP_REQUESTS_PER_MINUTE=60
# CELLAR_RATE_LIMIT__TOKEN_REQUESTS_PER_MINUTE=600
